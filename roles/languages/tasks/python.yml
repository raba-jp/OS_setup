---
- name: Include variables
  include_vars:
    dir: vars
    files_matching: 'python'
    extensions: [ 'yml' ]

- name: Install Python2 package
  pip:
    name: "{{ item.name | default(item) }}"
    state: "{{ item.state | default('latest') }}"
  with_items: "{{ default_python2_packages + python2_packages }}"

- name: Install Python3 package
  pip:
    name: "{{ item.name | default(item) }}"
    state: "{{ item.state | default('latest') }}"
    executable: pip3
  with_items: "{{ default_python3_packages + python3_packages }}"

---
resources:
  - name: repository
    type: git
    source:
      uri: https://github.com/raba-jp/OS_Setup

jobs:
  - name: OS roles
    plan:
      - get: repository
        trigger: true
      - aggregate:
        - task: run
          file: repository/ci/tasks/role.yml
          params:
            ROLE_NAME: ubuntu
        - task: run
          file: repository/ci/tasks/role.yml
          params:
            ROLE_NAME: mac
  - name: Language roles
    plan:
      - get: repository
        trigger: true
      - aggregate:
        - task: Go
          file: repository/ci/tasks/role.yml
          params:
            ROLE_NAME: go
        - task: Python
          file: repository/ci/tasks/role.yml
          params:
            ROLE_NAME: python
        - task: Ruby
          file: repository/ci/tasks/role.yml
          params:
            ROLE_NAME: ruby
        - task: Rust
          file: repository/ci/tasks/role.yml
          params:
            ROLE_NAME: rust
  - name: commons role
    plan:
      - get: repository
        trigger: true
      - task: run
        file: repository/ci/tasks/role.yml
        params:
          ROLE_NAME: commons
